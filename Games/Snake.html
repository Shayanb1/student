---
layout: default
title: Snake Game
permalink: /snake
---

<style>
body {
    margin: 0;
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    background-image: url('images/snakegamebg.png');
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    background-repeat: no-repeat;
    font-family: 'Courier New', monospace;
    color: white;
    min-height: 100vh;
}

h1 {
    margin-bottom: 10px;
    color: #ecf0f1;
}

.game-info {
    display: flex;
    gap: 30px;
    margin-bottom: 20px;
    font-size: 18px;
    background-color: rgba(0, 0, 0, 0.8);
    padding: 15px 25px;
    border-radius: 10px;
    border: 2px solid #34495e;
}

.score {
    color: #e74c3c;
}

.high-score {
    color: #f39c12;
}

#gameCanvas {
    border: 3px solid #34495e;
    background-color: #1a1a1a;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
}

.controls {
    margin-top: 20px;
    text-align: center;
    color: #bdc3c7;
}

.game-over {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 30px;
    border-radius: 10px;
    text-align: center;
    font-size: 24px;
    display: none;
}

.pause-screen {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: rgba(0, 0, 0, 0.9);
    padding: 20px;
    border-radius: 15px;
    text-align: center;
    display: none;
    border: 3px solid #34495e;
}

.pause-image {
    max-width: 300px;
    max-height: 300px;
    border-radius: 10px;
}

.restart-btn {
    background-color: #e74c3c;
    color: white;
    border: none;
    padding: 10px 20px;
    font-size: 16px;
    border-radius: 5px;
    cursor: pointer;
    margin-top: 15px;
    font-family: 'Courier New', monospace;
}

.restart-btn:hover {
    background-color: #c0392b;
}
</style>

<h1>üêç Snake Game</h1>

<div class="game-info">
    <div class="score">Score: <span id="score">0</span></div>
    <div class="high-score">High Score: <span id="highScore">0</span></div>
</div>

<canvas id="gameCanvas" width="1800" height="768"></canvas>

<div class="controls">
    Use WASD or Arrow Keys to control the snake<br>
    Press SPACE to pause/resume
</div>

<div class="pause-screen" id="pauseScreen">
    <img src="images/pauseimage.png" alt="Game Paused" class="pause-image">
    <div style="color: white; margin-top: 15px; font-size: 18px;">Press SPACE to resume</div>
</div>

<div class="game-over" id="gameOver">
    <div>Game Over!</div>
    <div style="font-size: 18px; margin: 10px 0;">Final Score: <span id="finalScore">0</span></div>
    <button class="restart-btn" onclick="restartGame()">Play Again</button>
</div>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
const scoreElement = document.getElementById('score');
const highScoreElement = document.getElementById('highScore');
const gameOverElement = document.getElementById('gameOver');
const finalScoreElement = document.getElementById('finalScore');
const pauseScreenElement = document.getElementById('pauseScreen');

// Game settings
const gridSize = 40;
const tileCount = canvas.width / gridSize;

let snake = [
    {x: 10, y: 10}
];
let food = {};
let dx = 0;
let dy = 0;
let score = 0;
let highScore = parseInt(localStorage.getItem('snakeHighScore')) || 0;
let gameRunning = true;
let gamePaused = false;

// Preload snake image
const snakeImage = new Image();
snakeImage.src = 'images/Greensquare.png';

// Preload food images
const foodImages = [
    new Image(),
    new Image()
];
foodImages[0].src = 'images/food1.png';
foodImages[1].src = 'images/food2.png';

let currentFoodIndex = 0;

// Initialize high score display
highScoreElement.textContent = highScore;

// Generate random food position
function randomFood() {
    do {
        food = {
            x: Math.floor(Math.random() * Math.floor(canvas.width / gridSize)),
            y: Math.floor(Math.random() * Math.floor(canvas.height / gridSize))
        };
    } while (snake.some(segment => segment.x === food.x && segment.y === food.y));
    
    // Cycle to next food image
    currentFoodIndex = (currentFoodIndex + 1) % foodImages.length;
    
    console.log('New food spawned at:', food.x, food.y, 'using food image', currentFoodIndex + 1);
}

// Draw game elements
function drawGame() {
    // Clear canvas
    ctx.fillStyle = '#1a1a1a';
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    // Reset any effects
    ctx.shadowBlur = 0;
    ctx.shadowColor = 'transparent';
    ctx.globalAlpha = 1;

    // Draw food using alternating custom images
    const currentFoodImage = foodImages[currentFoodIndex];
    if (currentFoodImage.complete && currentFoodImage.naturalWidth > 0) {
        ctx.drawImage(currentFoodImage, food.x * gridSize, food.y * gridSize, gridSize - 4, gridSize - 4);
    } else {
        // Very visible fallback - bright red square
        ctx.fillStyle = '#ff0000';
        ctx.fillRect(food.x * gridSize, food.y * gridSize, gridSize - 4, gridSize - 4);
        // Add white border for extra visibility
        ctx.strokeStyle = '#ffffff';
        ctx.lineWidth = 3;
        ctx.strokeRect(food.x * gridSize, food.y * gridSize, gridSize - 4, gridSize - 4);
    }

    // Draw snake - all segments use the same snake image
    for (let i = 0; i < snake.length; i++) {
        const segment = snake[i];
        
        if (snakeImage.complete && snakeImage.naturalWidth > 0) {
            ctx.drawImage(snakeImage, segment.x * gridSize, segment.y * gridSize, gridSize - 4, gridSize - 4);
        } else {
            // Fallback to colored rectangles if image isn't loaded
            ctx.fillStyle = i === 0 ? '#2ecc71' : '#27ae60';
            ctx.fillRect(segment.x * gridSize, segment.y * gridSize, gridSize - 4, gridSize - 4);
        }
    }
}

// Move snake
function moveSnake() {
    if (!gameRunning || gamePaused) return;

    // Don't move if no direction is set
    if (dx === 0 && dy === 0) return;

    const head = {x: snake[0].x + dx, y: snake[0].y + dy};

    // Check wall collision - use actual canvas dimensions
    const maxTileX = Math.floor(canvas.width / gridSize);
    const maxTileY = Math.floor(canvas.height / gridSize);
    
    if (head.x < 0 || head.x >= maxTileX || head.y < 0 || head.y >= maxTileY) {
        gameOver();
        return;
    }

    // Check self collision
    for (let segment of snake) {
        if (head.x === segment.x && head.y === segment.y) {
            gameOver();
            return;
        }
    }

    snake.unshift(head);

    // Check food collision
    if (head.x === food.x && head.y === food.y) {
        score += 10;
        scoreElement.textContent = score;
        randomFood();
        // Don't remove tail when food is eaten (snake grows)
    } else {
        // Remove tail if no food eaten
        snake.pop();
    }
}

// Game over
function gameOver() {
    gameRunning = false;
    finalScoreElement.textContent = score;
    
    // Update high score
    if (score > highScore) {
        highScore = score;
        highScoreElement.textContent = highScore;
        localStorage.setItem('snakeHighScore', highScore.toString());
    }
    
    gameOverElement.style.display = 'block';
}

// Restart game
function restartGame() {
    snake = [{x: 10, y: 10}];
    dx = 0;
    dy = 0;
    score = 0;
    scoreElement.textContent = score;
    gameRunning = true;
    gamePaused = false;
    gameOverElement.style.display = 'none';
    pauseScreenElement.style.display = 'none';
    currentFoodIndex = 0;
    randomFood();
}

// Handle keyboard input
document.addEventListener('keydown', (e) => {
    if (!gameRunning) return;

    const key = e.key.toLowerCase();

    // Pause/resume
    if (key === ' ') {
        e.preventDefault();
        gamePaused = !gamePaused;
        pauseScreenElement.style.display = gamePaused ? 'block' : 'none';
        return;
    }

    if (gamePaused) return;

    // Prevent reverse direction
    switch(key) {
        case 'arrowup':
        case 'w':
            if (dy !== 1) {
                dx = 0;
                dy = -1;
            }
            break;
        case 'arrowdown':
        case 's':
            if (dy !== -1) {
                dx = 0;
                dy = 1;
            }
            break;
        case 'arrowleft':
        case 'a':
            if (dx !== 1) {
                dx = -1;
                dy = 0;
            }
            break;
        case 'arrowright':
        case 'd':
            if (dx !== -1) {
                dx = 1;
                dy = 0;
            }
            break;
    }
});

// Game loop
function gameLoop() {
    moveSnake();
    drawGame();
}

// Initialize game
randomFood();
setInterval(gameLoop, 100);

// Initial draw
drawGame();
</script>